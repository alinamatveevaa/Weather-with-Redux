{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useStore } from \"react-redux\";\nconst api = {\n  url: `http://api.openweathermap.org/data/2.5/`,\n  key: `40c21a2013ada1779d25b9efb54161bc`\n};\nexport function useWeatherData() {\n  _s();\n\n  const [data, setData] = useState();\n  const [error, setError] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const store = useStore();\n  const location = store.getState().location;\n  console.log(location);\n  useEffect(() => {\n    setIsLoading(true);\n    axios.get(`${api.url}weather?q=${location}&units=metric&appid=${api.key}`).finally(() => {\n      setIsLoading(false);\n    }).then(resp => {\n      console.log('from request: ', resp);\n      setData(resp);\n    }).catch(function (error) {\n      console.error('Error: ', error);\n      setError(true);\n    });\n  }, [location]);\n  return {\n    data,\n    isLoading,\n    error,\n    setError\n  };\n}\n\n_s(useWeatherData, \"lCooHKkQziiSx/z9Kz1sL++HyAs=\", false, function () {\n  return [useStore];\n});","map":{"version":3,"sources":["/Users/alinamatveeva/Desktop/ПОРТФОЛИО/Weather/src/hooks/useWeatherData.ts"],"names":["axios","useEffect","useState","useStore","api","url","key","useWeatherData","data","setData","error","setError","isLoading","setIsLoading","store","location","getState","console","log","get","finally","then","resp","catch"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,QAAT,QAAyB,aAAzB;AAGA,MAAMC,GAAG,GAAG;AACRC,EAAAA,GAAG,EAAG,yCADE;AAERC,EAAAA,GAAG,EAAG;AAFE,CAAZ;AAMA,OAAO,SAASC,cAAT,GAA0B;AAAA;;AAC7B,QAAM,CAAEC,IAAF,EAAQC,OAAR,IAAoBP,QAAQ,EAAlC;AAEA,QAAM,CAAEQ,KAAF,EAASC,QAAT,IAAsBT,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAAEU,SAAF,EAAaC,YAAb,IAA8BX,QAAQ,CAAC,IAAD,CAA5C;AAEA,QAAMY,KAAK,GAAGX,QAAQ,EAAtB;AACA,QAAMY,QAAQ,GAAGD,KAAK,CAACE,QAAN,GAAiBD,QAAlC;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AAEAd,EAAAA,SAAS,CAAC,MAAM;AACZY,IAAAA,YAAY,CAAC,IAAD,CAAZ;AAEAb,IAAAA,KAAK,CAACmB,GAAN,CAAW,GAAEf,GAAG,CAACC,GAAI,aAAYU,QAAS,uBAAsBX,GAAG,CAACE,GAAI,EAAxE,EACKc,OADL,CACa,MAAM;AAAEP,MAAAA,YAAY,CAAC,KAAD,CAAZ;AAAqB,KAD1C,EAEKQ,IAFL,CAEWC,IAAD,IAAiB;AACnBL,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA6BI,IAA7B;AACAb,MAAAA,OAAO,CAACa,IAAD,CAAP;AACH,KALL,EAMKC,KANL,CAMW,UAAUb,KAAV,EAAsB;AACzBO,MAAAA,OAAO,CAACP,KAAR,CAAc,SAAd,EAAyBA,KAAzB;AACAC,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACH,KATL;AAUH,GAbQ,EAaN,CAACI,QAAD,CAbM,CAAT;AAeA,SAAO;AACHP,IAAAA,IADG;AAEHI,IAAAA,SAFG;AAGHF,IAAAA,KAHG;AAIHC,IAAAA;AAJG,GAAP;AAMH;;GA/BeJ,c;UAMEJ,Q","sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useStore } from \"react-redux\";\nimport { IData } from \"../components/Weather/Weather\";\n\nconst api = {\n    url: `http://api.openweathermap.org/data/2.5/`,\n    key: `40c21a2013ada1779d25b9efb54161bc`,\n  }\n  \n\nexport function useWeatherData() {\n    const [ data, setData ] = useState<IData>();\n\n    const [ error, setError ] = useState(false);\n    const [ isLoading, setIsLoading ] = useState(true);\n\n    const store = useStore();\n    const location = store.getState().location;\n    console.log(location)\n\n    useEffect(() => {\n        setIsLoading(true);\n\n        axios.get(`${api.url}weather?q=${location}&units=metric&appid=${api.key}`)\n            .finally(() => { setIsLoading(false) })\n            .then((resp: IData) => {\n                console.log('from request: ',resp);\n                setData(resp);\n            })\n            .catch(function (error: any) {\n                console.error('Error: ', error);\n                setError(true);\n            });\n    }, [location])\n\n    return {\n        data,\n        isLoading,\n        error,\n        setError\n    }\n}"]},"metadata":{},"sourceType":"module"}