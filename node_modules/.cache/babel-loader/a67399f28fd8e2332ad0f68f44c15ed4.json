{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nconst api = {\n  url: `http://api.openweathermap.org/data/2.5/`,\n  key: `40c21a2013ada1779d25b9efb54161bc`\n};\nexport function useWeatherData() {\n  _s();\n\n  const [data, setData] = useState();\n  const [error, setError] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const location = useSelector(state => state.location);\n  useEffect(() => {\n    setIsLoading(true);\n    axios.get(`${api.url}weather?q=${location}&units=metric&appid=${api.key}`).finally(() => {\n      setIsLoading(false);\n    }).then(resp => {\n      console.log('from request: ', resp);\n      setData(resp);\n    }).catch(function (error) {\n      console.error('Error: ', error);\n      setError(true);\n    });\n  }, [location]);\n  return {\n    data,\n    isLoading,\n    error,\n    setError\n  };\n}\n\n_s(useWeatherData, \"WpolcD6dvpeldCXcAXs86sQ38Zg=\", false, function () {\n  return [useSelector];\n});","map":{"version":3,"sources":["/Users/alinamatveeva/Desktop/ПОРТФОЛИО/Weather/src/hooks/useWeatherData.ts"],"names":["axios","useEffect","useState","useSelector","api","url","key","useWeatherData","data","setData","error","setError","isLoading","setIsLoading","location","state","get","finally","then","resp","console","log","catch"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,WAAT,QAA4B,aAA5B;AAIA,MAAMC,GAAG,GAAG;AACRC,EAAAA,GAAG,EAAG,yCADE;AAERC,EAAAA,GAAG,EAAG;AAFE,CAAZ;AAMA,OAAO,SAASC,cAAT,GAA0B;AAAA;;AAC7B,QAAM,CAAEC,IAAF,EAAQC,OAAR,IAAoBP,QAAQ,EAAlC;AAEA,QAAM,CAAEQ,KAAF,EAASC,QAAT,IAAsBT,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAAEU,SAAF,EAAaC,YAAb,IAA8BX,QAAQ,CAAC,IAAD,CAA5C;AAEA,QAAMY,QAAQ,GAAGX,WAAW,CAAoBY,KAAK,IAAIA,KAAK,CAACD,QAAnC,CAA5B;AAEAb,EAAAA,SAAS,CAAC,MAAM;AACZY,IAAAA,YAAY,CAAC,IAAD,CAAZ;AAEAb,IAAAA,KAAK,CAACgB,GAAN,CAAW,GAAEZ,GAAG,CAACC,GAAI,aAAYS,QAAS,uBAAsBV,GAAG,CAACE,GAAI,EAAxE,EACKW,OADL,CACa,MAAM;AAAEJ,MAAAA,YAAY,CAAC,KAAD,CAAZ;AAAqB,KAD1C,EAEKK,IAFL,CAEWC,IAAD,IAAiB;AACnBC,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA6BF,IAA7B;AACAV,MAAAA,OAAO,CAACU,IAAD,CAAP;AACH,KALL,EAMKG,KANL,CAMW,UAAUZ,KAAV,EAAsB;AACzBU,MAAAA,OAAO,CAACV,KAAR,CAAc,SAAd,EAAyBA,KAAzB;AACAC,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACH,KATL;AAUH,GAbQ,EAaN,CAACG,QAAD,CAbM,CAAT;AAeA,SAAO;AACHN,IAAAA,IADG;AAEHI,IAAAA,SAFG;AAGHF,IAAAA,KAHG;AAIHC,IAAAA;AAJG,GAAP;AAMH;;GA7BeJ,c;UAMKJ,W","sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { IData } from \"../components/Weather/Weather\";\nimport { RootState } from \"../store/store\";\n\nconst api = {\n    url: `http://api.openweathermap.org/data/2.5/`,\n    key: `40c21a2013ada1779d25b9efb54161bc`,\n  }\n  \n\nexport function useWeatherData() {\n    const [ data, setData ] = useState<IData>();\n\n    const [ error, setError ] = useState(false);\n    const [ isLoading, setIsLoading ] = useState(true);\n\n    const location = useSelector<RootState, string>(state => state.location);\n\n    useEffect(() => {\n        setIsLoading(true);\n\n        axios.get(`${api.url}weather?q=${location}&units=metric&appid=${api.key}`)\n            .finally(() => { setIsLoading(false) })\n            .then((resp: IData) => {\n                console.log('from request: ',resp);\n                setData(resp);\n            })\n            .catch(function (error: any) {\n                console.error('Error: ', error);\n                setError(true);\n            });\n    }, [location])\n\n    return {\n        data,\n        isLoading,\n        error,\n        setError\n    }\n}"]},"metadata":{},"sourceType":"module"}